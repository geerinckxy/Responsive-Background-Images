!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.ResponsiveBackgrounds=b(a)}(this,function(a){"use strict";var b={},c=(!!document.querySelector&&!!a.addEventListener,{envs:["xs","sm","md","lg"],selector:".bg-responsive",interval:500}),d=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},e=function(a,b){var c={};return d(a,function(b,d){c[d]=a[d]}),d(b,function(a,d){c[d]=b[d]}),c},f=(Date.now||function(){return(new Date).getTime()},function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}}),g=function(a,b,c){null!==a&&"undefined"!=typeof a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)};return b.init=function(a){c=e(c,a||{});for(var d,f,g=document.querySelectorAll(c.selector),h=b.currentBreakpoint(),i=0,j=g.length;j>i;i++)d=g[i],f=d.getAttribute("data-"+h),null!==f?d.style.backgroundImage="url('"+f+"')":"object"==typeof console&&console.warn("Data attribute: data-"+h+" not found on element:\n\n"+d.outerHTML+"\n\n\n")},b.currentBreakpoint=function(a){var b,d=window.document,e=d.createElement("div");d.body.appendChild(e);for(var f=c.envs.length-1;f>=0;f--)if(b=c.envs[f],e.className="hidden-"+b,null===e.offsetParent)return d.body.removeChild(e),b;return"Unknown breakpoint"},g(window,"resize",f(b.init,c.interval)),b});