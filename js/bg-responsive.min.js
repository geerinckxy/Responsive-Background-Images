!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.ResponsiveBackgrounds=b(a)}(this,function(a){"use strict";var b={},c=(!!document.querySelector&&!!a.addEventListener,{envs:["xs","sm","md","lg"],selector:".bg-responsive",interval:250}),d=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},e=function(a,b){var c={};return d(a,function(b,d){c[d]=a[d]}),d(b,function(a,d){c[d]=b[d]}),c},f=Date.now||function(){return(new Date).getTime()},g=function(a,b,c){var d,e,g,h,i,j=function(){var k=f()-h;b>k&&k>=0?d=setTimeout(j,b-k):(d=null,c||(i=a.apply(g,e),d||(g=e=null)))};return function(){g=this,e=arguments,h=f();var k=c&&!d;return d||(d=setTimeout(j,b)),k&&(i=a.apply(g,e),g=e=null),i}};return b.init=function(a){c=e(c,a||{});for(var d,f,g=document.querySelectorAll(c.selector),h=b.currentBreakpoint(),i=0,j=g.length;j>i;i++)d=g[i],f=d.getAttribute("data-"+h),null!==f?d.style.backgroundImage="url('"+f+"')":"object"==typeof console&&console.warn("Data attribute: data-"+h+" not found on element:\n\n"+d.outerHTML+"\n\n\n")},b.currentBreakpoint=function(){var a,b=window.document,d=b.createElement("div");b.body.appendChild(d);for(var e=c.envs.length-1;e>=0;e--)if(a=c.envs[e],d.className="hidden-"+a,null===d.offsetParent)return b.body.removeChild(d),a;return"Unknown breakpoint"},b.removeResizeEvent=function(){window.removeEventListener("resize",g(b.init,c.interval))},b.addResizeEvent=function(){b.removeResizeEvent(),window.addEventListener("resize",g(b.init,c.interval))},b.init(),b.addResizeEvent(),b});